<?xml version="1.0"?>

<launch>
  <include file="$(find hiros_opensim_ik_solver)/launch/default.launch">
    <arg name="node_required" value="true"    />
    <arg name="node_name"     value="opensim" />

    <!-- General Parameters -->
    <arg name="n_threads"                value="8"           />
    <arg name="use_marker_positions"     value="false"       />
    <arg name="use_link_orientations"    value="true"        />
    <arg name="model_path"               value="$(find hiros_opensim_ik_solver)/models/Rajagopal2015_edited.osim" />
    <arg name="model_scaling"            value="true"        />
    <arg name="model_calibration"        value="true"        />
    <arg name="input_topic"              value="/skel_group" />
    <arg name="out_joint_state_topic"    value="/opensim/js" />
    <arg name="out_skeleton_group_topic" value="/opensim/sg" />

    <!-- Model Scaler Parameters -->
    <arg name="scale_config_path" value="$(find hiros_opensim_ik_solver)/config/scale_config_test.xml" />
    <arg name="scale_initial_t"   value="1." />
    <arg name="scale_final_t"     value="2." />

    <!-- IMU Placer Parameters -->
    <arg name="heading_correction"    value="true"       />
    <arg name="base_imu_label"        value="pelvis_imu" />
    <arg name="base_heading_axis"     value="z"          />
    <arg name="save_calibrated_model" value="true"       />
    <arg name="visualize_calibration" value="true"       />

    <!-- IK Tool Parameters -->
    <arg name="accuracy"                     value="1e-4"       />
    <arg name="markers_weight"               value="1.0"        />
    <arg name="orientations_weight"          value="0.1"        />
    <arg name="sensor_to_opensim_rotation_x" value="-1.5707963" />
    <arg name="sensor_to_opensim_rotation_y" value="0"          />
    <arg name="sensor_to_opensim_rotation_z" value="0"          />
  </include>
</launch>
